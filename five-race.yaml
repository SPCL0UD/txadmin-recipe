$engine: 3
$onesync: on
name: Five Race Framework
version: 1.0.0
author: SPCL0UD
description: Framework de carreras con creador de personaje y prologue.

tasks:
  # NÃºcleo de carreras
  - action: download_github
    src: https://github.com/SPCL0UD/Five-race-core
    ref: main
    dest: ./resources/[race]/five-race-core

  # Creador de personaje
  - action: download_github
    src: https://github.com/SPCL0UD/Five-character-creator
    ref: main
    dest: ./resources/[race]/five-character-creator

  # Prologue / modo inicial
  - action: download_github
    src: https://github.com/SPCL0UD/five-race-prologue
    ref: main
    dest: ./resources/[race]/five-race-prologue

  # Descargar server.cfg desde tu propio repo de recipes
  - action: download_github
    src: https://github.com/SPCL0UD/txadmin-recipe
    ref: main
    dest: ./tmp/five-race-cfg

  - action: move_path
    src: ./tmp/five-race-cfg/server.cfg
    dest: ./server.cfg
  # ==========================
  #  DATABASE: OXMYSQL
  # ==========================
  - action: download_file
    path: ./tmp/files/oxmysql.zip
    url: https://github.com/overextended/oxmysql/releases/download/v2.12.0/oxmysql.zip

  - action: connect_database
  
  - action: unzip
    src: ./tmp/files/oxmysql.zip
    dest: ./resources/[standalone]

  - action: remove_path
    path: ./tmp
